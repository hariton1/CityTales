<div class="centered-wrapper">
  <form
    tuiForm="l"
    [formGroup]="editUserForm"
    *ngIf="accountCreated"
  >
    <header tuiHeader>
      <h3 tuiTitle>
        Editing user: {{ this.user?.email }}
        <span tuiSubtitle>User since {{getMonthName(this.accountCreated?.month)}} {{this.accountCreated.day}}, {{this.accountCreated?.year}}</span>
      </h3>
      <button
        tuiButton
        appearance="outline"
        type="button"
        routerLink="/admin/users"
      >
        <tui-icon
          icon="@tui.arrow-left"
          [style.height.rem]="1"
        />
        Return to user list
      </button>
    </header>

    <fieldset>
      <div class="stack">
        <tui-textfield>
          <label tuiLabel>Email</label>
          <input
            formControlName="email"
            placeholder="john@doe.com"
            tuiTextfield
            type="email"
          />
        </tui-textfield>

        <tui-error
          formControlName="email"
          [error]="[] | tuiFieldError | async"
        />
      </div>
    </fieldset>

    <fieldset>
      <div class="stack">
        <tui-textfield
          tuiChevron
          [tuiTextfieldCleaner]="false"
        >
          <label tuiLabel>Assigned role</label>

          <input
            formControlName="role"
            tuiSelect
          />

          <tui-data-list-wrapper
            *tuiTextfieldDropdown
            new
            [items]="persons"
          />
        </tui-textfield>
        <tui-error
          formControlName="role"
          [error]="[] | tuiFieldError | async"
        />
      </div>
    </fieldset>

    <footer>
      <button
        tuiButton
        appearance="primary"
        type="submit"
        (click)="onSubmit()"
      >
        <tui-icon
          icon="@tui.save"
          [style.height.rem]="1.2"
        />
        Save changes
      </button>
    </footer>
  </form>
</div>

